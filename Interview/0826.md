
### 问题

请讲述下离你最近一段工作你自己觉得比较出色的项目经验？

### 回答

共有两个吧。第一个跨端的错误监控建设、第二个小程序原生项目转换 taro  

**跨端错误监控支持**

背景：快速方便的定位线上问题

方案：

- Web 端   
- 小程序
- Flutter
- Electron

包含功能
- web端 & 小程序
  - 文件加载错误（静态资源文件、图片等）
  - 请求错误
  - 代码语法错误
  - try...catch 中 catch 自动捕获
  - 通用功能（用户信息、地理位置信息、版本号等、简单的用户行为轨迹路径、加载的页面，路由方法，当前页面的变量等）

- Flutter
  - App 异常的捕获（同步异常（ try-catch 机制）和异步异常（catchError））、 Zone异常
  - Framework 异常的捕获（ErrorWidget）
  - 通用功能（用户信息、地理位置信息、版本号等、简单的用户行为轨迹路径、加载的页面，路由方法，当前页面的变量等）

- Electron 手动埋点（也包含通用信息）

- 自定义上报策略
  - 将错误队列放入内存中最大 50 条或者时间定时任务30s 到了开始上报，如果在上报的过程中出现失败将放入最新的数据到任务队列中但队列永远保持最大50条  
  
  
收益：三条业务线在用，处理生产问题耗时降低85%，生产故障率降低40% 


**原生小程序转换工具**

背景：taro 跨端项目。 taro 本身提供转换 vue 的工具不太好用。项目中很多不标准写法导致它的 covert 转换失败，迫使自研  

功能：包含自动转换 模版语法（wx:if --> v-if 等等），生命周期，组件嵌套，样式、文件路径等等，出具转换成功的代码和失败的代码样式和路径等

收益：转换页面一共120+，降低手动替换带来的不准确性和风险，提高基础建设及效率


