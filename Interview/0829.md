### 问题

看你简历上有同构的项目，那你能说下同构这块最大的性能瓶颈在哪么？

### 回答
- QPS（每秒查询） 纯 Node 与服务器性能，TPS（每秒事务）涉及到业务和数据存储
- 在压单个API 时，QPS 可粗理解为 TPS
- 一个页面初始化时串行 call 3个 API ,这时压测结果每个 API 性能是 400tps/1000 并发，则可以说这个页面在1000并发下有1000tps的性能，如3个 API 并行则是400tps/1000(做服务限流时就按400上下来做)
- BFF 如果达到最大性能，而下游 Java-SVC(或其它语言的k8s微服务)在同等服务器配置(比如同样4C4G)下却没有CPU占用过高或内存爆满的情况下，需要优化的就是 BFF,如果不相上下就代表差不多优化到瓶颈了
- 如果 Node 层直接当 server 端不透传API而是自己连 Mongo 和 Redis,应该就不叫BFF了，这时 TPS 指标全靠自己背

